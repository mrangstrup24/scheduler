import{u as C}from"./index-3395c5ac.js";import{b as $,o,c as l,d,e as y,v as k,a as u,f as h,t as v,g as p,h as O,i as x,F as E,r as I,j as D}from"./index-2e600749.js";const N=u("label",{for:"input"},"Subject Input",-1),L=u("br",null,null,-1),V=u("br",null,null,-1),q={key:0,subject:"err-msg"},w={__name:"SubjectCreator",emits:["create-subject"],setup(n,{emit:t}){const e=$({subject:"",invalid:null,errMsg:""}),s=()=>{if(e.invalid=null,e.subject!==""){t("create-subject",e.subject),e.subject="";return}e.invalid=!0,e.errMsg="Value cannot be empty"};return(a,c)=>(o(),l("div",null,[N,d(),L,y(u("input",{id:"input",type:"text","onUpdate:modelValue":c[0]||(c[0]=r=>e.subject=r)},null,512),[[k,e.subject]]),u("button",{onClick:c[1]||(c[1]=r=>s())},[h(a.$slots,"default",{},()=>[d("Create")])]),d(),V,e.invalid?(o(),l("p",q,v(e.errMsg),1)):p("",!0)]))}},M={style:{width:"500px",height:"auto",border:"1px solid black",margin:"5px",padding:"5px"}},B=["value"],G={key:1},J=u("br",null,null,-1),R={key:4},U=u("label",{for:"input1"},"Minimum # of Classes: ",-1),F=["value"],T=u("br",null,null,-1),W=u("label",{for:"input2"},"# of Consecutive Classes: ",-1),z=["value"],A=u("br",null,null,-1),H=u("label",{for:"input3"},"Length of Consecutive Classes: ",-1),K=["value"],Q=u("br",null,null,-1),X=u("label",{for:"input4"},"# of Whole Grade Classes: ",-1),Y=["value"],Z=u("br",null,null,-1),P={__name:"SubjectItem",props:{subject:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["edit-subject","update-subject","update-subject-options","delete-subject","option-subject"],setup(n){return(t,e)=>(o(),l("div",M,[n.subject.isEditing?(o(),l("input",{key:0,type:"text",value:n.subject.subject,onInput:e[0]||(e[0]=s=>t.$emit("update-subject",s.target.value,n.index))},null,40,B)):(o(),l("span",G,v(n.subject.subject),1)),d(),J,u("div",null,[n.subject.isEditing?(o(),l("button",{key:0,onClick:e[1]||(e[1]=s=>t.$emit("edit-subject",n.index))},"Done")):(o(),l("button",{key:1,onClick:e[2]||(e[2]=s=>t.$emit("edit-subject",n.index))},"Edit")),n.subject.isOptioning?(o(),l("button",{key:2,onClick:e[3]||(e[3]=s=>t.$emit("option-subject",n.index))},"Done")):(o(),l("button",{key:3,onClick:e[4]||(e[4]=s=>t.$emit("option-subject",n.index))},"Options")),u("button",{onClick:e[5]||(e[5]=s=>t.$emit("delete-subject",n.subject.id))},"Delete"),n.subject.isOptioning?(o(),l("div",R,[U,u("input",{type:"number",id:"input1",value:n.subject.options.minimumRequired,onInput:e[6]||(e[6]=s=>t.$emit("update-subject-options",s.target.value,n.index,"minimumRequired"))},null,40,F),d(),T,W,u("input",{type:"number",id:"input2",value:n.subject.options.consecutiveClassesCount,onInput:e[7]||(e[7]=s=>t.$emit("update-subject-options",s.target.value,n.index,"consecutiveClassesCount"))},null,40,z),d(),A,H,u("input",{type:"number",id:"input3",value:n.subject.options.consecutiveClassesLength,onInput:e[8]||(e[8]=s=>t.$emit("update-subject-options",s.target.value,n.index,"consecutiveClassesLength"))},null,40,K),d(),Q,X,u("input",{type:"number",id:"input4",value:n.subject.options.wholeGrade,onInput:e[9]||(e[9]=s=>t.$emit("update-subject-options",s.target.value,n.index,"wholeGrade"))},null,40,Y),d(),Z])):p("",!0)])]))}},_=u("h1",null,"Subjects",-1),ne={__name:"Subjects",setup(n){const t=O([]),e=i=>{t.value.push({id:C(),subject:i,isEditing:null,isOptioning:null,options:{minimumRequired:0,consecutiveClassesCount:0,consecutiveClassesLength:0,wholeGrade:0}}),a()};(()=>{const i=JSON.parse(localStorage.getItem("subjects"));i&&(t.value=i)})();const a=()=>{localStorage.setItem("subjects",JSON.stringify(t.value)),$cookies.set("subjects",JSON.stringify(t.value))},c=i=>{t.value[i].isEditing=!t.value[i].isEditing,a()},r=i=>{t.value[i].isOptioning=!t.value[i].isOptioning,a()},m=(i,b)=>{t.value[b].subject=i,a()},g=i=>{t.value=t.value.filter(b=>b.id!==i),a()},S=(i,b,j)=>{t.value[b].options[j]=i,a()};return(i,b)=>(o(),l("main",null,[_,x(w,{onCreateSubject:e}),u("ul",null,[(o(!0),l(E,null,I(t.value.slice().reverse(),(j,f)=>(o(),D(P,{subject:j,index:t.value.length-1-f,key:j.id,onEditSubject:c,onUpdateSubject:m,onDeleteSubject:g,onOptionSubject:r,onUpdateSubjectOptions:S},null,8,["subject","index"]))),128))])]))}};export{ne as default};
